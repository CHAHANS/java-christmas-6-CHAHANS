# 프로그램 목적
- 12월 이벤트로 특정상품과 일정에 할인 프로모션 적용

## 이벤트 정보
### 상품
| 에피타이저           | 메인                  | 디저트              | 음료              |
|-----------------|---------------------|------------------|-----------------|
| 양송이수프<br/>6,000 | 티본스테이크<br/>55,000   | 초코케이크<br/>15,000 | 제로콜라<br/>3,000  |
| 타파스<br/>5,500   | 바비큐립<br/>54,000     | 아이스크림<br/>5,000  | 레드와인<br/>60,000 |
| 시저샐러드<br/>8,000 | 해산물파스타<br/>35,000   | -                | 샴페인<br/>25,000  |
| -               | 크리스마스파스타<br/>25,000 | -                | -               |

### 이벤트 종류
- 디데이 할인 : 2023.12.1 ~ 2023.12.25동안 1000부터 100원씩 증가한 만큼 총 금액에서 할인
*이외 31일 12월 31일까지 적용
- 평일 할인 : 디저트 메뉴 1개당 2,023 할인
- 주말 할인 : 메인 메뉴 1개당 2,023 할인
- 특별 할인 : 특정 날짜에는 총 금액에서 1,000 할인 (12/3,12/10,12/17,12/24.12/25,12/31)
- 증정 메뉴 : 할인 전 금액 12만언 이상 시 샴페인 1개
- 총혜택 금액 이상은 이벤트배지 부여(5천:별, 1만:트리, 2만: 산타)

### 주의사항(고객안내)
- 총주문 10,000 인 경우 이벤트 적용
- 음료만 주문시, 주문 불가
- 한번에 최대 20개까지만 주문

## 유즈케이스
1. 방문할 날짜와 메뉴를 선택
2. 주문메뉴, 총주문 금액, 증정메뉴, 혜택 내역, 총혜택 금액, 할인 후 금액, 뱃지여부를 봄

## 기능목록
- 사용자 입력
  - [x] 숫자로 방문 날짜를입력 받는다.
    - [x] (예외) 0 또는 31 초과 한 숫자는 애러
    - [x] 지정된 애러메세지 출력 "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."
  - [x] 메뉴와 갯수를 함께 입력받는다. 
    - [x] "-"로 구분
    - [x] (예외) 메뉴판에 없는 메뉴 입력시 애러
    - [x] (예외) 1보다 작은 수량은 애러
    - [x] (예외) 동일 메뉴를 중복한 경우 애려
    - [x] (예외) 20 초과는 애러
    - [x] (예외) 음료만 주문 시 주문불가
    - [x] 지정된 애러메세지 출력 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
- 이벤트 적용 유무 판단
  - [x] 5가지 이벤트 별 해당 여부(날자/금액으로) 판단
    - 모든 이벤트에 공통적으로 필요한 기능
      - [x] 날자별로 해당 이벤트에 해당하는지 알 수 있어야한다.
      - [x] 이벤트에 해당하는 경우 혜택금액을 리턴할 수 있어야한다.
      - [x] 10,000 이상만 이벤트 참여
    - [x] 혜택기능 합산 기능
      - [X] 합산된 혜택기능으로 뱃지 유무를 알수 있어야한다.
- 출력
  - [x] 주문 메뉴의 출력(순서무관)
  - [x] 할인 전 총 주문금액 출력
  - [x] 증정메뉴 출력
  - [x] 혜택(혜택별 순서무관) 출력
  - [x] 총혜택 금액 계산 (할인금액 + 증정메뉴 가격), 없으면 0원
  - [x] 할인 후 결제금액(할인전-할인금액) 출력
  - [x] 뱃지 출력
  - [x] 해당이 없는 경우 "없음"으로 출력

## 기능 및 코드개선
- 상수 관리 개선
  - [X] 애러메세지 enum
  - [x] 출력 구문의 상수관리 개선점 고민 후 수정

## 회고
Event를 상속하여 전체 이벤트를 진행함에 있어 List형태로 편하게 체크하고 자 했었다. 
conditionChecker() 매소드에서 날자, 기타조건을 각 이벤트 객체에서 내용에 맞게 재 구성하여 사용하도록 한다면 변경이나 추가가 쉬울 것이라 생각했다.

개발 중 처음 의도와는 다르게 로직이 지저분 해 진 원인은 1번은 Badge의 condition이 다른 Event의 조건을 모두 검증한 다음에 결정된다는 점을 깔끔하게 해결하지 못한것에 있다.
EventManager 에서 이벤트를 확인 후 전달하는데, Bills에서 해당 값을 받은 다음 badge를 부여할 수 있다.

2번은 혜택 이벤트 혜택 금액과 함께 전달하고자 했는데, map<Event, Integer>를 사용하려 했다가..
고민하던 중 시간이 부족하여 더 빠르게 작성하기 위해 map<String, Integer>를 사용했다.

특히 2번 고민에서는 Event객체를 벗겨서 출력에 사용할 String을 얻어야 하는 기존방식과 빠르게 구현하기위해
처음 map으로 혜택 이벤트를 검증하고 만들 때 미리 Event를 벗겨서 만들었다.

1주일을 회상하면
- 구현을 고민하다 시간을 너무 많이 사용해서 오히려 생산성이 떨어진다.
- 시간이 부족해지자 수정이 많이 발생하고 로직이 복잡해졌다.
- 기능단위 커밋이 명확하지 않다.
- 기능 구현과 테스트 코드 작성이 비슷한 시간에 작성하지 않아 수정이 많아졌다.
그래도.. 자료형도 낮설던 내가 뭔가 움직이는 것을 만든 것으로 칭찬하고 마무리..
